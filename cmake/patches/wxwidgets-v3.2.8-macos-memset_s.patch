--- a/src/unix/utilsunx.cpp
+++ b/src/unix/utilsunx.cpp
@@ -74,9 +74,8 @@
     // but may be found in a non-standard header file, or in a library that is
     // not linked by default.
     explicit_bzero(v, n);
-#elif defined(__DARWIN__) || defined(__STDC_LIB_EXT1__)
-    // memset_s() is available since OS X 10.9, and may be available on
-    // other platforms.
+#elif defined(HAVE_MEMSET_S)
+    // Use standard C11 function if available.
     memset_s(v, n, 0, n);
 #else
     // A generic implementation based on the example at:
